/** pear-admin-v3.10.0 MIT License By http://www.pearadmin.com/ */
 ;"use strict";layui.define(["jquery","layer"],(function(e){var a=layui.jquery,r=layui.layer,t={ajax:function(e){e=e||{};var r=a.extend(!0,{},t.ajax.defaultOpts,e),o=r.beforeSend;return r.beforeSend=function(e){o&&o(e),e.setRequestHeader("Pragma","no-cache"),e.setRequestHeader("Cache-Control","no-cache"),e.setRequestHeader("Expires","Sat, 01 Jan 2000 00:00:00 GMT")},r.success=void 0,r.error=void 0,a.Deferred((function(o){a.ajax(r).done((function(a,r,t){o.resolve(a),e.success&&e.success(a)})).fail((function(a){t.ajax.handleErrorResponse(a,e,o)}))}))}};a.extend(t.ajax,{defaultOpts:{dataType:"json",type:"POST",contentType:"application/json",headers:{"X-Requested-With":"XMLHttpRequest"},customHandleError:!0},defaultError:{message:"An error has occurred!",details:"Error detail not sent by server."},defaultError401:{message:"You are not authenticated!",details:"You should be authenticated (sign in) in order to perform this operation."},defaultError403:{message:"You are not authorized!",details:"You are not allowed to perform this operation."},defaultError404:{message:"Resource not found!",details:"The resource requested could not found on the server."},logError:function(e){console.log(e)},showError:function(e){return e.details?r.alert(e.details,{title:e.message,icon:2,closeBtn:0}):r.alert(t.ajax.defaultError.details,{title:e.message||t.ajax.defaultError.message,icon:2,closeBtn:0})},showErrorAndRedirectUrl:function(e,a){return e.details?r.alert(e.details,{title:e.message,icon:2,closeBtn:0,end:t.ajax.handleTargetUrl(a)}):r.alert(t.ajax.defaultError.details,{title:e.message||t.ajax.defaultError.message,icon:2,closeBtn:0,end:t.ajax.handleTargetUrl(a)})},handleTargetUrl:function(e){location.href=e||t.appPath},handleErrorResponse:function(e,a,r){if(!a.customHandleError)switch(e.status){case 401:t.ajax.showErrorAndRedirectUrl(t.ajax.defaultError401,t.appPath);break;case 403:t.ajax.showError(t.ajax.defaultError403);break;case 404:t.ajax.showError(t.ajax.defaultError404);break;default:t.ajax.showError(t.ajax.defaultError)}r.reject.apply(this,arguments),a.error&&a.error.apply(this,arguments)},ajaxSendHandler:function(e,a,r){var o=t.ajax.getToken();o&&(r.headers&&void 0!==r.headers[t.ajax.tokenHeaderName]||a.setRequestHeader(t.ajax.tokenHeaderName,o))},getToken:function(){return t.ajax.getCookieValue(t.ajax.tokenCookieName)},tokenCookieName:"XSRF-TOKEN",tokenHeaderName:"X-XSRF-TOKEN",getCookieValue:function(e){for(var a=document.cookie.split("; "),r=0;r<a.length;r++)if(a[r]){var t=a[r].split("=");if(2==t.length&&decodeURIComponent(t[0])===e)return decodeURIComponent(t[1]||"")}return null}}),a(document).ajaxSend((function(e,a,r){return t.ajax.ajaxSendHandler(e,a,r)})),e("http",t)}));