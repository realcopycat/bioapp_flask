/** pear-admin-v3.10.0 MIT License By http://www.pearadmin.com/ */
 ;"use strict";layui.define("jquery",(function(t){var e=layui.$,n="tag",i=".tag",a="tag-close",l="layui-btn layui-btn-primary layui-btn-sm";(r=function(){this.config={skin:l,tagText:"+ New Tag"},this.configs={}}).prototype.set=function(t){return e.extend(!0,this.config,t),r.render(),this},r.prototype.on=function(t,e){return layui.onevent.call(this,n,t,e)},r.prototype.add=function(t,n){var i=e(".tag[lay-filter="+t+"]");return o.add(null,i,n),o.tagAuto(t),this},r.prototype.delete=function(t,n){var i=e(".tag[lay-filter="+t+"]").find('>.tag-item[lay-id="'+n+'"]');return o.delete(null,i),this};var o={tagClick:function(t,a,l,o){o=o||{};var r=l||e(this),u=(a=a||r.index(r),r.parents(i).eq(0)),s=u.attr("lay-filter");layui.event.call(this,n,"click("+s+")",{elem:u,index:a})},add:function(t,e,i){var a=e.attr("lay-filter"),l=e.children(".button-new-tag"),o=l.index(),r='<button lay-id="'+(i.id||"")+'"'+(i.attr?' lay-attr="'+i.attr+'"':"")+' type="button" class="'+'tag-item">'+(i.text||"unnaming")+"</button>";!1!==layui.event.call(this,n,"add("+a+")",{elem:e,index:o,othis:r})&&(l[0]?l.before(r):e.append(r))},input:function(t,n){var a=n||e(this),l=a.parents(i).eq(0),u=l.attr("lay-filter"),s=r.configs[u]=e.extend({},r.config,r.configs[u]||{},s),c=e('<div class="input-new-tag"><input type="text" autocomplete="off" class="layui-input"></div>');c.addClass(s.skin),a.after(c).remove(),c.children(".layui-input").on("blur",(function(){if(this.value){var t={text:this.value};o.add(null,l,t)}c.remove(),o.tagAuto(u)})).focus()},delete:function(t,a){var l=a||e(this).parent(),o=l.index(),r=l.parents(i).eq(0),u=r.attr("lay-filter");!1!==layui.event.call(this,n,"delete("+u+")",{elem:r,index:o})&&l.remove()},tagAuto:function(t){var n=(t=t||"")&&r.configs[t]||r.config;e(i+(t?'[lay-filter="'+t+'"]':"")).each((function(){var t=e(this),i=t.children(".tag-item"),r=t.children(".button-new-tag");i.removeClass(l).addClass(n.skin),t.attr("lay-allowClose")&&i.length&&i.each((function(){var t=e(this);if(!t.find("."+a)[0]){var n=e('<i class="layui-icon layui-unselect tag-close">&#x1006;</i>');n.on("click",o.delete),t.append(n)}})),t.attr("lay-newTag")&&0===r.length&&((r=e('<button type="button" class="button-new-tag"></button>')).on("click",o.input),t.append(r)),r.html(n.tagText),r.removeClass(l).addClass(n.skin)}))}};r.prototype.init=function(t,n){return t&&(r.configs[t]=e.extend({},r.config,r.configs[t]||{},n)),o.tagAuto.call(this,t)},r.prototype.render=r.prototype.init;var r=new r,u=e(document);r.render(),u.on("click",".tag-item",o.tagClick),t(n,r)}));