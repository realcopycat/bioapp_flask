/** pear-admin-v3.10.0 MIT License By http://www.pearadmin.com/ */
 ;"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};layui.define(["jquery"],(function(e){var t=layui.$,n=layui.cache.modules.tinymce,a=n.substr(0,n.lastIndexOf(".")),i=(layui.setter||{}).response||{},r="tinymce.min.js",o={base_url:a,images_upload_url:"",language:"zh_CN",response:{statusName:i.statusName||"code",msgName:i.msgName||"msg",dataName:i.dataName||"data",statusCode:i.statusCode||{ok:0}},success:function(e,t,n){e[this.response.statusName]==this.response.statusCode.ok?t(e[this.response.dataName]):n(e[this.response.msgName])}},l={};function s(){"undefined"==typeof tinymce&&t.ajax({url:o.base_url+"/"+r,dataType:"script",cache:!0,async:!1})}function u(e){return null!=e}l.render=function(e,n){s();var a=function(e,n){var a=layui.admin||{},i=e.form||{},l=i.name||"edit",s=i.data||{};return e.suffix=u(e.suffix)?e.suffix:r.indexOf(".min")>-1?".min":"",e.base_url=u(e.base_url)?e.base_url:o.base_url,e.language=u(e.language)?e.language:o.language,e.selector=u(e.selector)?e.selector:e.elem,e.quickbars_selection_toolbar=u(e.quickbars_selection_toolbar)?e.quickbars_selection_toolbar:"cut copy | bold italic underline strikethrough ",e.plugins=u(e.plugins)?e.plugins:"code kityformula-editor quickbars print preview searchreplace autolink fullscreen image link media codesample table charmap hr advlist lists wordcount imagetools indent2em",e.toolbar=u(e.toolbar)?e.toolbar:"code undo redo | kityformula-editor forecolor backcolor bold italic underline strikethrough | indent2em alignleft aligncenter alignright alignjustify outdent indent | link bullist numlist image table codesample | formatselect fontselect fontsizeselect",e.resize=!!u(e.resize)&&e.resize,e.elementpath=!!u(e.elementpath)&&e.elementpath,e.branding=!!u(e.branding)&&e.branding,e.contextmenu_never_use_native=!u(e.contextmenu_never_use_native)||e.contextmenu_never_use_native,e.menubar=u(e.menubar)?e.menubar:"file edit insert format table",e.menu=u(e.menu)?e.menu:{file:{title:"文件",items:"newdocument | print preview fullscreen | wordcount"},edit:{title:"编辑",items:"undo redo | cut copy paste pastetext selectall | searchreplace"},format:{title:"格式",items:"bold italic underline strikethrough superscript subscript | formats | forecolor backcolor | removeformat"},table:{title:"表格",items:"inserttable tableprops deletetable | cell row column"}},e.init_instance_callback=u(e.init_instance_callback)?e.init_instance_callback:function(t){"function"==typeof n&&n(e,t)},e.images_upload_url=u(e.images_upload_url)?e.images_upload_url:o.images_upload_url,e.images_upload_handler=u(e.images_upload_handler)?e.images_upload_handler:function(n,i,r){if(function(e){if(null==e||""===e)return!0;if(e instanceof Array&&0===e.length)return!0;if("object"===(void 0===e?"undefined":_typeof(e))&&0===Object.keys(e).length)return!0;return!1}(e.images_upload_url))return r("上传接口未配置"),console.error("images_upload_url未配置");var u=new FormData;if(u.append(l,n.blob()),"object"==(void 0===s?"undefined":_typeof(s)))for(var c in s)u.append(c,s[c]);var m={url:e.images_upload_url,dataType:"json",type:"POST",data:u,processData:!1,contentType:!1,success:function(e){o.success(e,i,r)},error:function(e){r("网络错误："+e.status)}};"function"==typeof a.req?a.req(m):t.ajax(m)},layui.sessionData("layui-tinymce",{key:e.selector,value:e}),e}(e,n),i=l.get(a.elem);return i&&i.destroy(),tinymce.init(a),l.get(a.elem)},l.init=l.render,l.get=function(e){if(s(),e&&/^#|\./.test(e)){var t=e.substr(1);return tinymce.editors[t]}return!1},l.reload=function(e,n,a){var i={};"string"==typeof e?(n.elem=e,i=t.extend({},n)):"object"==(void 0===e?"undefined":_typeof(e))&&"string"==typeof e.elem&&(i=t.extend({},e),a=n);var r=layui.sessionData("layui-tinymce")[i.elem];return delete r.init_instance_callback,t.extend(r,i),l.render(r,a)},e("tinymce",l)}));